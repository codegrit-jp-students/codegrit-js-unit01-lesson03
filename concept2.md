## 代入演算子

**_代入演算子_**は、レッスン1でも解説のあった式と値の関係のことを思い出してみるとわかりやすいです。
レッスン1で式は文とは違い、値を返し、式自体は式と演算子で構成されていると説明しました。
式自体は、最後まで分解すると、**識別子(変数名や関数名)**と**リテラル値(数値や文字列の直接表記)**、**演算子(記号が予約語)**に分けることができることも学びましたね。

代入演算子では必ず式の左辺（left value）は変数、もしくはプロパティ、配列要素である必要があります。
式自体を構成するものも、識別子、つまり変数（名）が含まれますよね。

言葉だけでは少し理解が難しいと思いますので、以下の例を見てみましょう。

```js
let x, x1;
x = x1 = 8;
console.log(x); // 8
console.log(x1); // 8
```

<iframe width="100%" height="300" src="//jsfiddle.net/codegrit_hiro/eqLa5j4d/1/embedded/js,result/dark/" allowfullscreen="allowfullscreen" allowpaymentrequest frameborder="0"></iframe>

要するに代入を連続してできるのは、代入それ自体が**式=値**であるため、戻り値は代入される対象の値だからです。

### 便利な代入演算子：+=,-=,\*=

以下は演算と代入を同時にできる省略した書き方の代入演算子です。
これはよく使用するので、覚えておくと便利です。


|名前| 演算子 | 意味 |
| -------- | -------- | -------- |
| 加算代入 | x += y | x = x + y |
| 減算代入 | x -= y | x = x - y |
| 乗算代入 | x *= y | x = x * y |
| 除算代入 | x /= y | x = x / y |
| 剰余代入 | x %= y | x = x % y |

ここで理解を深めるために代入演算子の具体的な使用例を見ておきたいと思います。変数は以下が定義されているものとします。

```js
let x = 4;
let y = 2;
let z = 'hoge'; // 文字列
```

変数に文字列が格納されている場合でも演算は実行可能ですが、文字列の連結は加算代入でのみ可能でそれ以外では演算結果が`NaN`になります。

```js
// 加算代入
x += y; // 6
x += z; // "4hoge"
z += 'fuga'; // "hogefuga"

// 減算代入
x -= y; // 2
x -= z; // NaN

// 乗算代入
x *= y; // 8
x *= z; // NaN

// 除算代入
x /= y; // 2
x /= z; // NaN
x /= 0; // Infinity

// 剰余代入(乗算の余りを代入)
x %= y; // 0
x %= 3; // 1
x %= z; // NaN
x %= 0; // NaN
```

上記では、2つの変数を利用していますが、直接数値を利用するケースも多くあります。

```js
let i = 0;

i += 1; // 1
i++; // i += 1と同じ
```

## 更に学ぼう

### 動画で学ぶ

- [JavaScript入門 - ドットインストール](https://dotinstall.com/lessons/basic_javascript_v2)

### 本で学ぶ

- [Eloquent JavaScript 3rd Edition](http://eloquentjavascript.net/)
